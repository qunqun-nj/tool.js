(function(){"use strict";function e(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){e=function(t){return typeof t}}else{e=function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return e(t)}var c=[];var o=13;var i=400;var u=null;function t(e,t,r){var a={timer:function t(e,r,n){if(!e){throw new Error("Tick is required!")}r=r||i;var o=(new Date).valueOf()+"_"+(Math.random()*1e3).toFixed(0);c.push({id:o,createTime:new Date,tick:e,duration:r,callback:n});a.start();return o},start:function t(){if(!u){u=setInterval(a.tick,o)}},tick:function t(){var e,r,t,n,o,i,u,f=c;c=[];c.length=0;for(r=0;r<f.length;r++){o=f[r];e=o.createTime;t=o.tick;i=o.duration;n=o.callback;u=(+new Date-e)/i;u=u>1?1:u;t(u);if(u<1&&o.id){c.push(o)}else if(n){n(u)}}if(c.length<=0){a.stop()}},stop:function t(){if(u){clearInterval(u);u=null}}};var n=a.timer(function(t){e(t)},t,r);return function(){var t;for(t in c){if(c[t].id==n){c[t].id=undefined;return}}}}function f(t,e,r,n){n=n||0;var o=Math.sqrt(e*e+r*r+n*n);return[1,0,0,0,0,1,0,0,0,0,1,0,e*t/o,r*t/o,n*t/o,1]}function s(t){var e=Math.sin(t),r=Math.cos(t);return[r,e,0,0,-e,r,0,0,0,0,1,0,0,0,0,1]}function a(t,e,r,n,o,i){n=n||0;o=o||0;i=i||0;return[t,0,0,0,0,e,0,0,0,0,r,0,n-n*t,o-o*e,i-i*r,1]}function d(t,e,r,n,o,i){if(typeof t==="number"&&typeof e==="number"){if(typeof r!=="number"){r=0;n=t;o=e;i=1}else if(typeof n!=="number"||typeof o!=="number"||typeof i!=="number"){n=t;o=e;i=r;t=0;e=0;r=0}if(t==n&&e==o&&r==i)throw new Error("It's not a legitimate ray!");var u=Math.sqrt((n-t)*(n-t)+(o-e)*(o-e)),f=u!=0?(o-e)/u:1,a=u!=0?(n-t)/u:0,c=(n-t)*a+(o-e)*f,l=i-r,s=Math.sqrt(c*c+l*l),d=s!=0?l/s:1,m=s!=0?c/s:0;return[[f,d*a,a*m,0,-a,f*d,f*m,0,0,-m,d,0,e*a-t*f,r*m-t*a*d-e*f*d,-t*a*m-e*f*m-r*d,1],[f,-a,0,0,d*a,d*f,-m,0,a*m,f*m,d,0,t,e,r,1]]}else{throw new Error("a1 and b1 is required!")}}var m=function t(e,r){var n=[];for(var o=0;o<4;o++){for(var i=0;i<r.length/4;i++){n[i*4+o]=e[o]*r[i*4]+e[o+4]*r[i*4+1]+e[o+8]*r[i*4+2]+e[o+12]*r[i*4+3]}}return n};function r(t){var c=t||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var l={move:function t(e,r,n,o){c=m(f(e,r,n,o),c);return l},rotate:function t(e,r,n,o,i,u,f){var a=d(r,n,o,i,u,f);c=m(m(m(a[1],s(e)),a[0]),c);return l},scale:function t(e,r,n,o,i,u){c=m(a(e,r,n,o,i,u),c);return l},multiply:function t(e,r){c=r?m(c,e):m(e,c);return l},use:function t(e,r,n,o){n=n||0;o=o||1;var i=m(c,[e,r,n,o]);i[0]=+i[0].toFixed(7);i[1]=+i[1].toFixed(7);i[2]=+i[2].toFixed(7);i[3]=+i[3].toFixed(7);return i},value:function t(){return c}};return l}var n={animation:t,Matrix4:r};if((typeof module==="undefined"?"undefined":e(module))==="object"&&e(module.exports)==="object"){module.exports=n}else{window.tool=n}})();